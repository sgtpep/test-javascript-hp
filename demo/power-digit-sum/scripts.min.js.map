{"version":3,"sources":["component.js","main.js"],"names":["_possibleConstructorReturn","self","call","ReferenceError","_typeof","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","_createClass","defineProperties","target","props","descriptor","defineProperty","key","protoProps","staticProps","PowerDigitSum","Component","name","_this","this","data","arguments","element","createElement","render","elements","queryElements","style","appendStyle","addEventListener","event","detail","modifier","get","set","css","from","document","head","querySelectorAll","some","textContent","appendChild","component","html","innerHTML","firstElementChild","forEach","classList","className","split","replace","match","char","toUpperCase","multiplyString","multiplierString","multiplicand","reverse","reduce","_ref","digit","_ref2","products","caryOver","productString","parseInt","toString","concat","slice","join","powerString","base","exponent","_Component","_this2","getPrototypeOf","update","validity","valid","class","isValid","power","sum","pageHeader","querySelector","container"],"mappings":"AAAA,YAMA,SAASA,4BAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAAhB,KAAOA,EAAP,YAAAE,QAAOF,KAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASG,WAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIC,WAAU,gEAAA,KAAoED,EAApE,YAAAH,QAAoEG,IAAeD,GAASG,UAAYC,OAAOC,OAAOJ,GAAcA,EAAWE,WAAaG,aAAeC,MAAOP,EAAUQ,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeT,IAAYG,OAAOO,eAAiBP,OAAOO,eAAeX,EAAUC,GAAcD,EAASY,UAAYX,GAEje,QAASY,iBAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIb,WAAU,2PAR5Gc,eAAiB,WAAc,QAASC,GAAcC,EAAKC,GAAK,GAAIC,MAAeC,GAAK,EAAUC,GAAK,EAAWC,MAAKC,EAAW,KAAM,IAAK,GAAiCC,GAA7BC,EAAKR,EAAIS,OAAOC,cAAmBP,GAAMI,EAAKC,EAAGG,QAAQC,QAAoBV,EAAKW,KAAKN,EAAGlB,QAAYY,GAAKC,EAAKY,SAAWb,GAA3DE,GAAK,IAAoE,MAAOY,GAAOX,GAAK,EAAMC,EAAKU,EAAtL,QAAuM,KAAWZ,GAAMK,EAAA,QAAcA,EAAA,SAA/B,QAA2D,GAAIJ,EAAI,KAAMC,IAAQ,MAAOH,GAAQ,MAAO,UAAUF,EAAKC,GAAK,GAAIe,MAAMC,QAAQjB,GAAQ,MAAOA,EAAY,IAAIS,OAAOC,WAAYxB,QAAOc,GAAQ,MAAOD,GAAcC,EAAKC,EAAa,MAAM,IAAIjB,WAAU,4DAEllBkC,aAAe,WAAc,QAASC,GAAiBC,EAAQC,GAAS,IAAK,GAAIpB,GAAI,EAAGA,EAAIoB,EAAMP,OAAQb,IAAK,CAAE,GAAIqB,GAAaD,EAAMpB,EAAIqB,GAAWhC,WAAagC,EAAWhC,aAAc,EAAOgC,EAAW9B,cAAe,EAAU,SAAW8B,KAAYA,EAAW/B,UAAW,GAAML,OAAOqC,eAAeH,EAAQE,EAAWE,IAAKF,IAAiB,MAAO,UAAUzB,EAAa4B,EAAYC,GAAiJ,MAA9HD,IAAYN,EAAiBtB,EAAYZ,UAAWwC,GAAiBC,GAAaP,EAAiBtB,EAAa6B,GAAqB7B,MAQ5hB8B,cAAgB,WAGlB,GAAIC,GAAY,WACd,QAASA,GAAUC,GACjB,GAAIC,GAAQC,KAERC,EAAOC,UAAUnB,OAAS,OAAsBR,KAAjB2B,UAAU,GAAmBA,UAAU,GAAK,IAI/E,IAFAtC,gBAAgBoC,KAAMH,IAEjBC,EAAM,KAAM,kBACjBE,MAAKF,KAAOA,EACZE,KAAKG,QAAUC,EAAcJ,KAAMA,KAAKK,UACxCL,KAAKM,SAAWC,EAAcP,KAAKG,QAASL,GAChC,MAARG,IAAcD,KAAKC,KAAOA,GAC1BD,KAAKQ,OAAOC,EAAYT,KAAKQ,SACjCR,KAAKG,QAAQO,iBAAiB,WAAY,SAAUC,GAClD,MAAOZ,GAAME,KAAOU,EAAMC,SA2B9B,MAvBAzB,cAAaU,IACXJ,IAAK,QACLnC,MAAO,WACL,GAAIwC,GAAOI,UAAUnB,OAAS,OAAsBR,KAAjB2B,UAAU,GAAmBA,UAAU,GAAK,KAC3EW,EAAWX,UAAUnB,OAAS,OAAsBR,KAAjB2B,UAAU,GAAmBA,UAAU,GAAK,IAEnF,OAAOF,MAAKF,MAAQA,EAAO,KAAOA,EAAO,KAAOe,EAAW,IAAMA,EAAW,OAG9EpB,IAAK,SACLnC,MAAO,WACL,KAAM,iCAGRmC,IAAK,OACLqB,IAAK,WACH,KAAM,iCAERC,IAAK,SAAazD,GAChB,KAAM,oCAIHuC,KAGLY,EAAc,SAAqBO,GACrC,IAAK/B,MAAMgC,KAAKC,SAASC,KAAKC,iBAAiB,UAAUC,KAAK,SAAUb,GACtE,MAAOA,GAAMc,aAAeN,IAC1B,CACF,GAAIR,GAAQU,SAASd,cAAc,QACnCI,GAAMc,YAAcN,EACpBE,SAASC,KAAKI,YAAYf,KAI1BJ,EAAgB,SAAuBoB,EAAWC,GACpD,GAAItB,GAAUe,SAASd,cAAc,MAGrC,OAFAD,GAAQuB,UAAYD,EACpBtB,EAAQwB,kBAAkBH,UAAYA,EAC/BrB,EAAQwB,mBAGbpB,EAAgB,SAAuBJ,EAASL,GAClD,GAAIQ,KAeJ,OAdArB,OAAMgC,KAAKd,EAAQiB,iBAAiB,WAAatB,EAAO,QAAQ8B,QAAQ,SAAUzB,GAChFlB,MAAMgC,KAAKd,EAAQ0B,WAAWD,QAAQ,SAAUE,GAC9C,GAAIhC,GAAOgC,EAAUC,MAAM,KAAM,GAAG,GAAGA,MAAM,IAAK,GAAG,GAAGC,QAAQ,QAAS,SAAUC,EAAOC,GACxF,MAAOA,GAAKC,eAET7B,GAASR,GAEFb,MAAMC,QAAQoB,EAASR,IAGjCQ,EAASR,GAAMhB,KAAKqB,GAFpBG,EAASR,IAASQ,EAASR,GAAOK,GAFlCG,EAASR,GAAQK,MAQhBG,GAGL8B,EAAiB,SAAwBC,EAAkBC,GAC7D,OAAQ,IAAMD,GAAkBN,MAAM,IAAIQ,UAAUC,OAAO,SAAUC,EAAMC,GACzE,GAAIC,GAAQ5E,eAAe0E,EAAM,GAC7BG,EAAWD,EAAM,GACjBE,EAAWF,EAAM,GAEjBG,GAAiBC,SAASL,GAASJ,EAAeO,GAAUG,UAChE,QAAQJ,EAASK,OAAOF,SAASD,EAAcI,OAAO,KAAMH,SAASD,EAAcI,MAAM,GAAI,IAAM,WAC7F,IAAI,GAAGX,UAAUY,KAAK,IAAInB,QAAQ,KAAM,KAG9CoB,EAAc,SAAqBC,EAAMC,GAC3C,MAAOrE,OAAMgC,KAAKhC,MAAMqE,IAAWd,OAAO,SAAUY,GAClD,MAAOhB,GAAegB,EAAaC,IAClC,KAyCL,OAtCoB,UAAUE,GAG5B,QAAS3D,KACPhC,gBAAgBoC,KAAMJ,EAEtB,IAAI4D,GAAS/G,2BAA2BuD,MAAOJ,EAAcjC,WAAaR,OAAOsG,eAAe7D,IAAgBjD,KAAKqD,KAAM,aAK3H,OAHAwD,GAAOlD,SAASgD,SAAS5C,iBAAiB,QAAS,SAAUC,GAC3D6C,EAAOE,OAAOX,SAASpC,EAAMtB,OAAO/B,MAAO,IAAKqD,EAAMtB,OAAOsE,SAASC,SAEjEJ,EAwBT,MAlCA1G,WAAU8C,EAAe2D,GAazBpE,aAAaS,IACXH,IAAK,SACLnC,MAAO,WACL,MAAO,qBAAuB0C,KAAK6D,QAAU,yBAA2B7D,KAAK6D,MAAM,OAAS,4BAA8B7D,KAAK6D,MAAM,QAAU,+CAAiD7D,KAAK6D,MAAM,YAAc,iFAAmF7D,KAAK6D,MAAM,OAAS,4BAA8B7D,KAAK6D,MAAM,SAAW,yCAA2C7D,KAAK6D,MAAM,SAAW,8CAAgD7D,KAAK6D,MAAM,OAAS,4BAA8B7D,KAAK6D,MAAM,SAAW,uCAAyC7D,KAAK6D,MAAM,OAAS,+CAG5mBpE,IAAK,QACLnC,MAAO,WACL,MAAO,UAAY0C,KAAK6D,MAAM,QAAU,6CAA+C7D,KAAK6D,MAAM,YAAc,mDAGlHpE,IAAK,SACLnC,MAAO,SAAgBgG,EAAUQ,GAC/B,GAAIC,GAAQX,EAAY,EAAGE,EAC3BtD,MAAKM,SAASyD,MAAMzC,YAAcwC,EAAUC,EAAQ,GACpD/D,KAAKM,SAAS0D,IAAI1C,YAAcwC,EAAUC,EAAMf,WAAWjB,MAAM,IAAIS,OAAO,SAAUwB,EAAKtB,GACzF,MAAOsB,GAAMjB,SAASL,IACrB,GAAK,OAIL9C,GACPC,MCrJEoE,WAAa/C,SAASgD,cAAc,mBAE1CD,YAAW3C,YAAc,yBAEzB,IAAM6C,WAAYjD,SAASgD,cAAc,uBACzCC,WAAUzC,UAAY,GACtBhB,iBAAiB,mBAAoB,WAAA,MAAMyD,WAAU5C,aAAY,GAAI3B,gBAAgBO","file":"scripts.min.js","sourcesContent":["'use strict';\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PowerDigitSum = function () {\n  'use strict';\n\n  var Component = function () {\n    function Component(name) {\n      var _this = this;\n\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      _classCallCheck(this, Component);\n\n      if (!name) throw 'No name argument';\n      this.name = name;\n      this.element = createElement(this, this.render());\n      this.elements = queryElements(this.element, name);\n      if (data != null) this.data = data;\n      if (this.style) appendStyle(this.style());\n      this.element.addEventListener('set-data', function (event) {\n        return _this.data = event.detail;\n      });\n    }\n\n    _createClass(Component, [{\n      key: 'class',\n      value: function _class() {\n        var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var modifier = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n        return this.name + (name ? '__' + name : '') + (modifier ? '_' + modifier : '');\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        throw 'render() is not implemented';\n      }\n    }, {\n      key: 'data',\n      get: function get() {\n        throw 'get data() is not implemented';\n      },\n      set: function set(value) {\n        throw 'set data() is not implemented';\n      }\n    }]);\n\n    return Component;\n  }();\n\n  var appendStyle = function appendStyle(css) {\n    if (!Array.from(document.head.querySelectorAll('style')).some(function (style) {\n      return style.textContent == css;\n    })) {\n      var style = document.createElement('style');\n      style.textContent = css;\n      document.head.appendChild(style);\n    }\n  };\n\n  var createElement = function createElement(component, html) {\n    var element = document.createElement('div');\n    element.innerHTML = html;\n    element.firstElementChild.component = component;\n    return element.firstElementChild;\n  };\n\n  var queryElements = function queryElements(element, name) {\n    var elements = {};\n    Array.from(element.querySelectorAll('[class^=' + name + '__]')).forEach(function (element) {\n      Array.from(element.classList).forEach(function (className) {\n        var name = className.split('__', 2)[1].split('_', 1)[0].replace(/-(.)/g, function (match, char) {\n          return char.toUpperCase();\n        });\n        if (!elements[name]) {\n          elements[name] = element;\n        } else if (!Array.isArray(elements[name])) {\n          elements[name] = [elements[name], element];\n        } else {\n          elements[name].push(element);\n        }\n      });\n    });\n    return elements;\n  };\n\n  var multiplyString = function multiplyString(multiplierString, multiplicand) {\n    return ('0' + multiplierString).split('').reverse().reduce(function (_ref, digit) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          products = _ref2[0],\n          caryOver = _ref2[1];\n\n      var productString = (parseInt(digit) * multiplicand + caryOver).toString();\n      return [products.concat(parseInt(productString.slice(-1))), parseInt(productString.slice(0, -1) || '0')];\n    }, [[], 0])[0].reverse().join('').replace(/^0/, '');\n  };\n\n  var powerString = function powerString(base, exponent) {\n    return Array.from(Array(exponent)).reduce(function (powerString) {\n      return multiplyString(powerString, base);\n    }, '1');\n  };\n\n  var PowerDigitSum = function (_Component) {\n    _inherits(PowerDigitSum, _Component);\n\n    function PowerDigitSum() {\n      _classCallCheck(this, PowerDigitSum);\n\n      var _this2 = _possibleConstructorReturn(this, (PowerDigitSum.__proto__ || Object.getPrototypeOf(PowerDigitSum)).call(this, 'digit-sum'));\n\n      _this2.elements.exponent.addEventListener('input', function (event) {\n        _this2.update(parseInt(event.target.value, 10), event.target.validity.valid);\n      });\n      return _this2;\n    }\n\n    _createClass(PowerDigitSum, [{\n      key: 'render',\n      value: function render() {\n        return '\\n    <div class=\"' + this.class() + '\">\\n      <div class=\"' + this.class('row') + '\">\\n        <span class=\"' + this.class('base') + '\">2</span>\\n        <input autofocus class=\"' + this.class('exponent') + '\" max=\"250\" min=\"10\" required type=\"number\">\\n      </div>\\n      <div class=\"' + this.class('row') + '\">\\n        <span class=\"' + this.class('label') + '\">Digit:</span>\\n        <span class=\"' + this.class('power') + '\"></span>\\n      </div>\\n      <div class=\"' + this.class('row') + '\">\\n        <span class=\"' + this.class('label') + '\">Sum:</span>\\n        <span class=\"' + this.class('sum') + '\"></span>\\n      </div>\\n    </div>\\n    ';\n      }\n    }, {\n      key: 'style',\n      value: function style() {\n        return '\\n    .' + this.class('base') + ' {\\n      font-size: larger;\\n    }\\n    .' + this.class('exponent') + ' {\\n      vertical-align: super;\\n    }\\n    ';\n      }\n    }, {\n      key: 'update',\n      value: function update(exponent, isValid) {\n        var power = powerString(2, exponent);\n        this.elements.power.textContent = isValid ? power : '';\n        this.elements.sum.textContent = isValid ? power.toString().split('').reduce(function (sum, digit) {\n          return sum + parseInt(digit);\n        }, 0) : '';\n      }\n    }]);\n\n    return PowerDigitSum;\n  }(Component);\n\n  return PowerDigitSum;\n}();\n","const pageHeader = document.querySelector('.toolbar__header');\n\npageHeader.textContent = 'Test application header';\n\nconst container = document.querySelector('.component-container');\ncontainer.innerHTML = '';\naddEventListener('DOMContentLoaded', () => container.appendChild(new PowerDigitSum().element));\n"]}