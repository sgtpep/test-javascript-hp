{"version":3,"sources":["component.js","main.js"],"names":["_possibleConstructorReturn","self","call","ReferenceError","_typeof","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_classCallCheck","instance","Constructor","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","PascalTriangle","Component","name","this","element","createElement","render","elements","queryElements","style","appendStyle","arguments","undefined","modifier","css","Array","from","document","head","querySelectorAll","some","textContent","appendChild","html","innerHTML","firstElementChild","forEach","className","split","isArray","push","cache","PascalTriangleEntry","_Component","row","column","_this","getPrototypeOf","getPascalTriangleLine","class","func","_len","args","_key","JSON","stringify","apply","concat","map","index","values","_Component2","pascalTriangle","_this2","height","addEventListener","event","update","validity","valid","parseInt","line","_this3","triangle","childElementCount","removeChild","lastElementChild","fragment","createDocumentFragment","_","createLine","pageHeader","querySelector","container"],"mappings":"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","file":"scripts.min.js","sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PascalTriangle = function () {\n  'use strict';\n\n  var Component = function () {\n    function Component(name) {\n      _classCallCheck(this, Component);\n\n      if (!name) throw 'No name argument';\n      this.name = name;\n      this.element = createElement(this.render());\n      this.elements = queryElements(this.element, name);\n      if (this.style) appendStyle(this.style());\n    }\n\n    _createClass(Component, [{\n      key: 'class',\n      value: function _class() {\n        var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var modifier = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n        return this.name + (name ? '__' + name : '') + (modifier ? '_' + modifier : '');\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        throw 'render() is not implemented';\n      }\n    }]);\n\n    return Component;\n  }();\n\n  var appendStyle = function appendStyle(css) {\n    if (!Array.from(document.head.querySelectorAll('style')).some(function (style) {\n      return style.textContent == css;\n    })) {\n      var style = document.createElement('style');\n      style.textContent = css;\n      document.head.appendChild(style);\n    }\n  };\n\n  var createElement = function createElement(html) {\n    var element = document.createElement('div');\n    element.innerHTML = html;\n    return element.firstElementChild;\n  };\n\n  var queryElements = function queryElements(element, name) {\n    var elements = {};\n    Array.from(element.querySelectorAll('[class^=' + name + '__]')).forEach(function (element) {\n      var name = element.className.split('__', 2)[1].split('_', 1)[0];\n      if (!elements[name]) {\n        elements[name] = element;\n      } else if (!Array.isArray(elements[name])) {\n        elements[name] = [elements[name], element];\n      } else {\n        elements[name].push(element);\n      }\n    });\n    return elements;\n  };\n\n  var cache = {};\n  var memoize = function memoize(func) {\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var key = JSON.stringify(args);\n      if (!cache[key]) {\n        cache[key] = func.apply(undefined, args);\n      }\n      return cache[key];\n    };\n  };\n\n  var PascalTriangleEntry = function (_Component) {\n    _inherits(PascalTriangleEntry, _Component);\n\n    function PascalTriangleEntry(row, column) {\n      _classCallCheck(this, PascalTriangleEntry);\n\n      var _this = _possibleConstructorReturn(this, (PascalTriangleEntry.__proto__ || Object.getPrototypeOf(PascalTriangleEntry)).call(this, 'pascal-triangle-entry'));\n\n      _this.element.textContent = getPascalTriangleLine(row)[column];\n      return _this;\n    }\n\n    _createClass(PascalTriangleEntry, [{\n      key: 'render',\n      value: function render() {\n        return '<span class=\"' + this.class() + '\"></span>';\n      }\n    }, {\n      key: 'style',\n      value: function style() {\n        return '\\n    .' + this.class() + ' {\\n      display: inline-block;\\n      min-width: 1.5em;\\n      padding: 0 0.2em;\\n      text-align: center;\\n    }\\n    ';\n      }\n    }]);\n\n    return PascalTriangleEntry;\n  }(Component);\n\n  var getPascalTriangleLine = memoize(function (row) {\n    return row == 0 ? [1] : [0].concat(getPascalTriangleLine(row - 1)).map(function (value, index, values) {\n      return value + (values[index + 1] || 0);\n    });\n  });\n\n  var pascalTriangle = function (_Component2) {\n    _inherits(pascalTriangle, _Component2);\n\n    function pascalTriangle() {\n      _classCallCheck(this, pascalTriangle);\n\n      var _this2 = _possibleConstructorReturn(this, (pascalTriangle.__proto__ || Object.getPrototypeOf(pascalTriangle)).call(this, 'pascal-triangle'));\n\n      _this2.elements.height.addEventListener('input', function (event) {\n        _this2.update(event.target.validity.valid ? parseInt(event.target.value, 10) : 0);\n      });\n      return _this2;\n    }\n\n    _createClass(pascalTriangle, [{\n      key: 'createLine',\n      value: function createLine() {\n        var line = document.createElement('div');\n        line.className = this.class('triangle-line');\n        return line;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return '\\n    <div class=\"' + this.class() + '\">\\n      <div class=\"' + this.class('row') + '\">\\n        <span class=\"' + this.class('label') + '\">Triangle height:</span>\\n        <input autofocus class=\"' + this.class('height') + '\" max=\"50\" min=\"2\" required type=\"number\">\\n      </div>\\n      <div class=\"' + this.class('triangle') + '\"></div>\\n    </div>\\n    ';\n      }\n    }, {\n      key: 'style',\n      value: function style() {\n        return '\\n    .' + this.class('triangle') + ' {\\n      display: table;\\n      width: 100%;\\n    }\\n    .' + this.class('triangle-line') + ' {\\n      text-align: center;\\n      white-space: nowrap;\\n    }\\n    ';\n      }\n    }, {\n      key: 'update',\n      value: function update(height) {\n        var _this3 = this;\n\n        if (this.elements.triangle.childElementCount > height) {\n          Array.from(Array(this.elements.triangle.childElementCount - height)).forEach(function () {\n            return _this3.elements.triangle.removeChild(_this3.elements.triangle.lastElementChild);\n          });\n        } else if (this.elements.triangle.childElementCount < height) {\n          var fragment = document.createDocumentFragment();\n          Array.from(Array(height - this.elements.triangle.childElementCount)).forEach(function (_, index) {\n            var row = _this3.elements.triangle.childElementCount + index;\n            var line = _this3.createLine();\n            Array.from(Array(row + 1)).forEach(function (value, column) {\n              line.appendChild(new PascalTriangleEntry(row, column).element);\n            });\n            fragment.appendChild(line);\n          });\n          this.elements.triangle.appendChild(fragment);\n        }\n      }\n    }]);\n\n    return pascalTriangle;\n  }(Component);\n\n  return pascalTriangle;\n}();\n","const pageHeader = document.querySelector('.toolbar__header');\n\npageHeader.textContent = 'Test application header';\n\nconst container = document.querySelector('.component-container');\ncontainer.innerHTML = '';\naddEventListener('DOMContentLoaded', () => container.appendChild(new PascalTriangle().element));\n"]}